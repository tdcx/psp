Title,Body,Labels,Milestone,Epic,Sprint,Assignees,Estimate,Priority,AcceptanceCriteria,Dependencies,Phase
CI/CD pipeline básico,"Configurar pipelines CI/CD (build, test, container publish) y despliegue a 'stage'.","S1,devops,cicd,F0",F0,EPIC: Fundaciones & Descubrimiento,S1,DevOps,8,P1,Pipeline verde con tests; despliegue automático a stage tras merge.,Repos monorepo + config inicial,F0
"Esqueleto de servicios (Payments, Billing-SIF)",Crear servicios con scaffolding (OpenAPI v1 bosquejo) y health checks.,"S1,backend,scaffold,F0",F0,EPIC: Fundaciones & Descubrimiento,S1,"BE Payments,BE Billing-SIF",5,P1,Servicios arrancan; endpoints /health y /ready; OpenAPI bosquejo commit.,CI/CD pipeline básico,F0
Infra: Terraform + Kubernetes base,"Provisionar clusters K8s y recursos base (namespaces, ingress, certificados).","S1,infra,k8s,F0",F0,EPIC: Fundaciones & Descubrimiento,S1,DevOps,8,P1,Cluster funcional; ingress con certificado válido; namespaces por entorno.,CI/CD pipeline básico,F0
Repos monorepo + config inicial,"Crear repositorios (monorepo o polyrepo decidido por ADR), políticas de ramas, CODEOWNERS, PR templates.","S1,devops,repo,F0",F0,EPIC: Fundaciones & Descubrimiento,S1,"DevOps,PM/PO",5,P1,Repos creados; protección ramas; CI básico dispara en PR.,,F0
SAST/SCA y políticas de logging,"Activar escaneos SAST/SCA, configurar sanitización de logs sin PII/PAN.","S1,security,quality,F0",F0,EPIC: Fundaciones & Descubrimiento,S1,"Security/Compliance,DevOps",3,P1,Build falla ante hallazgos críticos; pruebas de fuga de PII en logs = 0.,CI/CD pipeline básico,F0
Service Mesh con mTLS,Desplegar service mesh (p.ej. Istio/Linkerd) con mTLS por defecto.,"S1,security,networking,F0",F0,EPIC: Fundaciones & Descubrimiento,S1,"DevOps,Security",5,P1,mTLS activo entre pods; política deny-by-default aplicada.,Infra: Terraform + Kubernetes base,F0
"ADR: Event-sourcing, outbox, CQRS, particionado",Publicar ADRs que justifiquen decisiones de arquitectura clave.,"S1,architecture,ADR,F0",F0,EPIC: Fundaciones & Descubrimiento,S1,Tech Lead,3,P2,ADRs aprobados por al menos 3 revisores; versionados.,,F0
EPIC: Fundaciones & Descubrimiento,"F0: Arquitectura, entornos, seguridad base, estándares y backlog.","epic,F0,architecture,security",F0,,,"PM/PO,Tech Lead",,P1,,,F0
Esquema Registro SIF,"Definir esquema del Registro SIF con prev_hash/curr_hash, payload QR, acuses AEAT.","S1,sif,data-model,F1",F1,EPIC: Núcleo SIF & Pagos (MVP-1 α),S1,"BE Billing-SIF,Tech Lead",5,P1,Esquema revisado; migraciones aplicadas; validado con 1000 registros sintéticos.,"Esqueleto de servicios (Payments, Billing-SIF)",F1
Librería de hashing canónico SIF,Implementar hashing canónico y encadenado para el diario SIF.,"S1,sif,crypto,F1",F1,EPIC: Núcleo SIF & Pagos (MVP-1 α),S1,BE Billing-SIF,5,P1,Tests unitarios ≥ 90%; vector de prueba reproducible.,Esquema Registro SIF,F1
PoC generador de QR,Prototipo de generación de QR con payload SIF y verificación.,"S1,sif,qr,F1",F1,EPIC: Núcleo SIF & Pagos (MVP-1 α),S1,"BE Billing-SIF,FE/Backoffice",3,P2,QR leído con 3 lectores; contenido conforme a especificación interna.,Esquema Registro SIF,F1
API POST /v1/invoices (v0),Exponer endpoint para registrar factura SIF con validaciones fiscales básicas.,"S2,api,sif,F1",F1,EPIC: Núcleo SIF & Pagos (MVP-1 α),S2,BE Billing-SIF,5,P1,Contract tests OK; respuestas 201/4xx; documentación OpenAPI actualizada.,Persistencia append-only SIF (PostgreSQL particionado),F1
Benchmark P95 < 250 ms (SIF sin AEAT),Pruebas de performance con k6 sobre /v1/invoices para asegurar P95 < 250 ms.,"S2,performance,k6,F1",F1,EPIC: Núcleo SIF & Pagos (MVP-1 α),S2,"QA,DevOps",3,P1,Reporte de performance en stage con 1k-2k TPS; P95 < 250 ms.,API POST /v1/invoices (v0),F1
Persistencia append-only SIF (PostgreSQL particionado),"Crear tabla append-only con particionado por fecha, índices, y triggers necesarios.","S2,database,sif,F1",F1,EPIC: Núcleo SIF & Pagos (MVP-1 α),S2,BE Billing-SIF,8,P1,Inserción 1k TPS; integridad de cadena comprobada con >10^6 registros sintéticos.,Librería de hashing canónico SIF,F1
Validaciones fiscales básicas (SIF),"Implementar reglas sintácticas y de negocio mínimas (tipos de IVA, rectificativas, simplificadas).","S2,validation,tax,F1",F1,EPIC: Núcleo SIF & Pagos (MVP-1 α),S2,"BE Billing-SIF,QA",5,P2,Suite de tests con datasets sintéticos; tasa de falsos positivos < 1%.,API POST /v1/invoices (v0),F1
Idempotency keys E2E,Mecanismo de claves de idempotencia en API y capas internas.,"S3,reliability,api,F1",F1,EPIC: Núcleo SIF & Pagos (MVP-1 α),S3,"BE Payments,BE Billing-SIF",5,P1,Colisiones < 1ppm; repetición segura ante duplicados; métricas expuestas.,Payments: payment_intents (auth/capture mock),F1
Observabilidad base (tracing + métricas + alertas SLO),"Configurar OpenTelemetry, métricas clave y alertas SLO.","S3,observability,otel,F1",F1,EPIC: Núcleo SIF & Pagos (MVP-1 α),S3,"DevOps,Tech Lead",5,P1,Dashboards listos; alertas activas para P95/P99 y error budget.,Outbox pattern + Kafka,F1
Outbox pattern + Kafka,Implementar tabla outbox y publicadores a Kafka para eventos SIF.Recorded.,"S3,messaging,kafka,F1",F1,EPIC: Núcleo SIF & Pagos (MVP-1 α),S3,"BE Billing-SIF,DevOps",8,P1,Publicación exactly-once (al menos once + de-dupe consumidores); métricas y alertas.,Persistencia append-only SIF (PostgreSQL particionado),F1
Payments: payment_intents (auth/capture mock),Diseñar MODELO payment_intents y flujos auth/capture mockeados.,"S3,payments,intents,F1",F1,EPIC: Núcleo SIF & Pagos (MVP-1 α),S3,BE Payments,8,P1,Endpoints /v1/payment_intents; estados; pruebas de idempotencia E2E.,"Esqueleto de servicios (Payments, Billing-SIF)",F1
Consumers SIF.Recorded,"Crear consumidores que construyan proyecciones y disparen procesos (p.ej. QR, auditoría).","S3,streaming,projections,F1",F1,EPIC: Núcleo SIF & Pagos (MVP-1 α),S3,BE Billing-SIF,5,P2,Replays seguros; idempotencia verificada.,Outbox pattern + Kafka,F1
Pruebas de fuga de PII en logs,Validar sanitización y máscaras en todos los servicios.,"S4,security,logging,F1",F1,EPIC: Núcleo SIF & Pagos (MVP-1 α),S4,"QA,Security/Compliance",3,P1,0 hallazgos de PII; reports archivados.,SAST/SCA y políticas de logging,F1
Segmentación de redes PCI,"Separar segmentos PCI; firewalls, WAF y controles de acceso.","S4,security,networking,F1",F1,EPIC: Núcleo SIF & Pagos (MVP-1 α),S4,"Security/Compliance,DevOps",5,P1,SAQ preliminar aprobado; escaneos ASV base sin críticos.,Token vault + HSM/KMS,F1
Token vault + HSM/KMS,Implementar vault de tokens (propio o TSP) con cifrado HSM/KMS y rotación de claves.,"S4,security,pci,F1",F1,EPIC: Núcleo SIF & Pagos (MVP-1 α),S4,"Security/Compliance,BE Payments,DevOps",8,P1,PAN solo en vault; rotación 90 días; pruebas de resistencia y latencia.,Observabilidad base (tracing + métricas + alertas SLO),F1
Webhooks firmados + reintentos exponenciales,"Desarrollar webhooks HMAC, DLQ de entregas y reintentos exponenciales con backoff.","S4,api,webhooks,F1",F1,EPIC: Núcleo SIF & Pagos (MVP-1 α),S4,"BE Payments,BE Billing-SIF",5,P2,Entrega ≥ 99.5% en 24h (stage); firma verificada; UI de reintento básico.,Outbox pattern + Kafka,F1
EPIC: Núcleo SIF & Pagos (MVP-1 α),"F1: Diario SIF, QR, API Payments (intents), idempotencia, observabilidad.","epic,F1,payments,sif",F1,,,"PM/PO,Tech Lead",,P1,,,F1
Driver AEAT (SOAP) skeleton,Cliente SOAP/WSDL para Veri*Factu con colas y gestión de reintentos/backoff.,"S5,aeat,soap,F2",F2,EPIC: Conector AEAT + Adquirente #1,S5,"BE Billing-SIF,Integraciones",8,P1,Flujos OK/error con simulador; DLQ operable; acuse archivado WORM.,Outbox pattern + Kafka,F2
Archivado WORM de acuses AEAT,Almacenamiento inmutable para acuses/acuse de recepción.,"S5,compliance,storage,F2",F2,EPIC: Conector AEAT + Adquirente #1,S5,"DevOps,Security/Compliance",3,P2,Retención ≥ 4 años; accesos auditados; pruebas de restauración.,Driver AEAT (SOAP) skeleton,F2
Backoffice mínimo AEAT/SIF,"Listado SIF, estados AEAT, reenvío, reversos.","S5,backoffice,ui,F2",F2,EPIC: Conector AEAT + Adquirente #1,S5,"FE/Backoffice,BE Billing-SIF",5,P2,Operaciones de re-submit/retry visibles; auditoría de acciones.,Driver AEAT (SOAP) skeleton,F2
Conciliación con batch de adquirente,Procesador de liquidaciones y conciliación automática con ledger.,"S6,accounting,reconciliation,F2",F2,EPIC: Conector AEAT + Adquirente #1,S6,"BE Payments,QA",5,P1,Desviación < 0.1% en stage; reportes de mismatch.,Ledger double-entry,F2
E2E auth→invoice→AEAT→ledger (stage),Flujo integrado extremo a extremo en entorno de stage.,"S6,e2e,integration,F2",F2,EPIC: Conector AEAT + Adquirente #1,S6,"QA,Tech Lead",5,P1,Escenarios OK/error; idempotencia; métricas completas.,Driver AEAT (SOAP) skeleton; Integración adquirente #1 (sandbox) con 3DS2 real; Ledger double-entry,F2
Integración adquirente #1 (sandbox) con 3DS2 real,Integrar con Redsys/Comercia (sandbox) incluyendo flujos 3DS2 y callback webhooks.,"S6,payments,acquirer,F2",F2,EPIC: Conector AEAT + Adquirente #1,S6,"BE Payments,Integraciones",8,P1,Auth/capture exitosos; manejo de fallos; P99 auth < 400 ms en stage.,Payments: payment_intents (auth/capture mock),F2
Ledger double-entry,Modelo y servicio de libro mayor de doble partida para pagos e impuestos.,"S6,accounting,ledger,F2",F2,EPIC: Conector AEAT + Adquirente #1,S6,BE Payments,5,P1,Asientos generados por cada evento; reconciliación trazable.,Integración adquirente #1 (sandbox) con 3DS2 real,F2
EPIC: Conector AEAT + Adquirente #1,"F2: Remisión Veri*Factu, integración adquirente (3DS2), conciliación.","epic,F2,aeat,acquirer",F2,,,"PM/PO,Tech Lead",,P1,,,F2
EPIC: Pilotos controlados (MVP-1 β),"F3: Producción limitada, hardening, antifraude base, backoffice, runbooks.","epic,F3,pilots,hardening",F3,,,"PM/PO,Tech Lead",,P1,,,F3
Hardening & pentest externo,"Remediar findings, ejecutar pentest externo, asegurar 0 críticos.","F3,security,hardening",F3,EPIC: Pilotos controlados (MVP-1 β),,"Security/Compliance,DevOps",8,P1,0 críticos; reporte firmado y archivado.,Pruebas de fuga de PII en logs,F3
Antifraude base (reglas/velocity/listas),Implementar motor simple de reglas y límites de velocidad.,"F3,fraud,rules",F3,EPIC: Pilotos controlados (MVP-1 β),,BE Payments,8,P2,Falsos positivos < 2%; integración en decisión de auth.,Integración adquirente #1 (sandbox) con 3DS2 real,F3
Pilotos controlados (plan y selección),"Seleccionar 10–20 comercios de 3 verticales, definir objetivos y métricas.","F3,pilots,planning",F3,EPIC: Pilotos controlados (MVP-1 β),,PM/PO,5,P2,Lista de pilotos firmada; acuerdos de pruebas.,E2E auth→invoice→AEAT→ledger (stage),F3
E-invoicing: Facturae + FACeB2B,Implementar emisión/recepción Facturae e integración FACeB2B.,"F4,einvoicing,facturae",F4,EPIC: E-invoicing B2B (MVP-2),,"Integraciones,BE Billing-SIF",13,P1,95% e-facturas < 5 min con acuse; validación con 3 ERPs.,,F4
EPIC: E-invoicing B2B (MVP-2),"F4: Facturae + FACeB2B, UBL/Peppol (opcional), pay-on-invoice.","epic,F4,einvoicing,peppol",F4,,,"PM/PO,Tech Lead",,P1,,,F4
Pay-on-invoice,Enlace/QR de cobro en la e-factura y reconciliación automática.,"F4,payments,einvoicing",F4,EPIC: E-invoicing B2B (MVP-2),,"BE Payments,FE/Backoffice",5,P2,Conversión medida; conciliación automática sin intervención.,E-invoicing: Facturae + FACeB2B,F4
E-invoicing: UBL/Peppol (opcional),Soporte UBL/Peppol (emisión/envío/recepción) y mapeos a ledger.,"F4,einvoicing,peppol",F4,EPIC: E-invoicing B2B (MVP-2),,Integraciones,8,P3,Interoperabilidad probada con 2 redes de pruebas; trazabilidad a ledger.,E-invoicing: Facturae + FACeB2B,F4
EPIC: Escalado & Certificaciones,"F5: Multi-adquirente, HA, performance, PCI DSS, capacity plan.","epic,F5,scalability,pci",F5,,,"PM/PO,Tech Lead",,P1,,,F5
Multi-adquirente (activo/activo),Integrar adquirente #2 y configurar fallback activo/activo.,"F5,payments,redundancy",F5,EPIC: Escalado & Certificaciones,,"BE Payments,Integraciones",13,P1,Failover transparente; SLOs mantenidos bajo fallo 1 proveedor.,Integración adquirente #1 (sandbox) con 3DS2 real,F5
Pruebas de carga 5x (Black Friday),Plan de capacidad y pruebas a 5x carga nominal.,"F5,performance,capacity",F5,EPIC: Escalado & Certificaciones,,"QA,DevOps",8,P1,Sin degradación severa; escalado automático efectivo.,Benchmark P95 < 250 ms (SIF sin AEAT),F5
Rate limiters y circuit breakers,"Aislamiento de fallos, canary y breakers a nivel servicio/API.","F5,resilience,traffic",F5,EPIC: Escalado & Certificaciones,,"DevOps,Tech Lead",5,P2,Pruebas de caos demuestran contención del fallo; sin pérdida de mensajes.,Outbox pattern + Kafka,F5
EPIC: KPIs & Observabilidad,"SLOs, métricas clave de producto y fiabilidad, dashboards.","epic,kpi,observability",OBS,,,"PM/PO,Tech Lead",,P1,,,
Dashboard de auditoría SIF/AEAT,"Panel con trilogía quién-qué-cuándo, remisiones, rechazos, reintentos.","observability,audit,dashboard",OBS,EPIC: KPIs & Observabilidad,,"DevOps,BE Billing-SIF",5,P2,Panel en producción; retención de logs conforme.,Alertas y métricas operativas,
Definición de SLOs y KPIs,"SLOs: disponibilidad ≥99.95%, P99 auth < 400ms, aeat_success_rate ≥ 99.9%/día, etc.","kpi,slo,observability",OBS,EPIC: KPIs & Observabilidad,,"PM/PO,Tech Lead",3,P2,Acuerdos documentados; panel ejecutivo en dashboard.,,
EPIC: Operaciones & Lanzamiento,"Runbooks, alertas, portal merchants, canary releases, feature flags.","epic,operations,release",OPS,,,"PM/PO,Tech Lead",,P1,,,
Alertas y métricas operativas,"Configurar aeat_reject_rate, aeat_latency_p95, idempotency_collisions, recon_mismatch_ppm.","ops,alerts,observability",OPS,EPIC: Operaciones & Lanzamiento,,DevOps,3,P2,Alertas activas con umbrales; paging y runbooks enlazados.,,
Runbooks de incidentes,"Documentar y automatizar runbooks: AEAT 4xx/5xx, adquirente down, degradación.","ops,runbooks",OPS,EPIC: Operaciones & Lanzamiento,,"DevOps,Tech Lead",5,P2,Runbooks validados en game days; tiempos RPO≤5min y RTO≤1h demostrados.,,
Portal merchants (soporte básico),"Portal para comercios: webhook retries UI, exportes contables.","ops,portal,backoffice",OPS,EPIC: Operaciones & Lanzamiento,,"FE/Backoffice,BE Payments",8,P3,MVP portal; autenticación y RBAC; logs de auditoría.,Backoffice mínimo AEAT/SIF,
EPIC: QA & Validación,"Plan integral de QA: unit, contract, integración, performance, chaos.","epic,qa,testing",QA,,,"PM/PO,Tech Lead",,P1,,,
Contract tests (OpenAPI),Configurar contract testing para APIs públicas (payments/invoices/webhooks).,"qa,contract-tests,api",QA,EPIC: QA & Validación,,QA,3,P2,Build falla ante ruptura de contrato; mocks versionados.,,
Plan de pruebas unitarias (≥80% core),Definir y alcanzar cobertura ≥80% en módulos core SIF/pagos.,"qa,unit-tests,quality",QA,EPIC: QA & Validación,,"QA,BE Payments,BE Billing-SIF",5,P2,Cobertura reportada; gates en CI; excepciones justificadas.,,
Pruebas de performance (k6) y caos,"Escenarios de latencia AEAT/adquirente, fallos de red, picos de carga.","qa,performance,chaos",QA,EPIC: QA & Validación,,"QA,DevOps",5,P2,Reportes con recomendaciones; SLIs definidos.,,
DPIA/GDPR,"Evaluación de impacto, minimización PII, retenciones y borrado selectivo.","security,gdpr,privacy",SEC,"EPIC: Seguridad, Cumplimiento & Privacidad",,Security/Compliance,5,P1,DPIA aprobada; políticas aplicadas; evidencias archivadas.,,
"EPIC: Seguridad, Cumplimiento & Privacidad","PCI DSS, DPIA/GDPR, gestión de claves/KMS, auditoría.","epic,security,compliance,privacy",SEC,,,"PM/PO,Tech Lead",,P1,,,
Gestión de claves/KMS,"Rotación 90 días, separación por entorno, firmas de binarios (supply chain).","security,kms,supply-chain",SEC,"EPIC: Seguridad, Cumplimiento & Privacidad",,"Security/Compliance,DevOps",5,P1,Rotación automatizada; verificación de firma en CI/CD.,Token vault + HSM/KMS,
PCI DSS alcance mínimo,"Segmentación, vault, ASV scans mensuales, pentest trimestral.","security,pci",SEC,"EPIC: Seguridad, Cumplimiento & Privacidad",,Security/Compliance,8,P1,Evidencias para ROC/SAQ-D; sin bloqueantes críticos.,Segmentación de redes PCI; Token vault + HSM/KMS,
